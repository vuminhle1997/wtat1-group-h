(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{119:function(e,t,a){e.exports=a.p+"static/media/doctor-woman.f90de574.svg"},120:function(e,t,a){e.exports=a.p+"static/media/remote-work-woman.e2170ff4.svg"},121:function(e,t,a){e.exports=a.p+"static/media/logo.49104aa6.svg"},144:function(e,t,a){e.exports=a(209)},149:function(e,t,a){},174:function(e,t,a){},206:function(e,t){},209:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),l=(a(149),a(9)),i=a.n(l),u=a(16),s=a(5),m=a(44),d=a(14),p=a(130),f=a(262),g=a(242),h=a(245),v=a(247),b=a(248),E=a(210),O=a(268),y=a(253),j=a(265),w=a(254),C=a(18),k=a.n(C),S=a(19),x=a.n(S),T=a(119),A=a.n(T),M=a(120),B=a.n(M),I=a(121),F=a.n(I),N=(new Date).getFullYear(),L=Object(g.a)({root:{paddingTop:"3em"},wrapper:{padding:"1em 0","& .MuiFormControl-root":{padding:".75em 0 .5em 0"}},headline:{padding:".75em 0",fontWeight:"bold",letterSpacing:2,color:"#8a8a8a"}}),P=window.location.href.includes("local")?"http://localhost:5000/api/v1.0/users/login":"https://covid-19-wtat1-group-h.herokuapp.com/api/v1.0/users/login";function W(e){var t=e.setAppState,a=Object(d.f)(),o=L(),c=Object(n.useState)(localStorage.getItem("email")||""),l=Object(s.a)(c,2),m=l[0],p=l[1],f=Object(n.useState)(localStorage.getItem("password")||""),g=Object(s.a)(f,2),C=g[0],S=g[1],T=Object(n.useState)(!1),M=Object(s.a)(T,2),I=M[0],W=M[1],D=Object(n.useState)("true"===localStorage.getItem("rememberMe")),_=Object(s.a)(D,2),z=_[0],R=_[1];Object(n.useEffect)((function(){return function(){console.log("clears landingpage")}}),[]),Object(n.useEffect)((function(){}),[I]);var U=function(){var e=Object(u.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={user:{email:m,password:C}},e.next=3,k.a.post(P,a).then((function(e){console.log(e),200===e.status&&(W(!1),x.a.set("authToken",e.data.token),t(1),setTimeout((function(){t(2)}),1e3))})).catch((function(e){console.log(e),W(!0)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{className:o.root},r.a.createElement(v.a,{container:!0},r.a.createElement(v.a,{item:!0,xs:4},r.a.createElement("img",{src:A.a,alt:"",srcset:""})),r.a.createElement(v.a,{item:!0,xs:4},r.a.createElement("img",{src:B.a,alt:"",srcset:""})),r.a.createElement(v.a,{item:!0,xs:4,className:o.wrapper},r.a.createElement(b.a,null,r.a.createElement("img",{height:"100px",src:F.a,alt:"",srcset:""}),r.a.createElement(E.a,{variant:"h4",align:"center",className:o.headline},"COVID-19 APP"),r.a.createElement(O.a,{label:"Email",variant:"outlined",value:m,onChange:function(e){return p(e.target.value)}}),r.a.createElement(O.a,{label:"Password",type:"password",value:C,variant:"outlined",onChange:function(e){return S(e.target.value)}}),r.a.createElement(y.a,{control:r.a.createElement(j.a,{checked:z,onChange:function(e){!0===e.target.checked?(localStorage.setItem("email",m),localStorage.setItem("password",C)):localStorage.clear(),localStorage.setItem("rememberMe",e.target.checked),R(e.target.checked)}}),label:"Remember me"}),I?r.a.createElement(E.a,{variant:"subtitle2"},"Your email or password is wrong. Please try again!"):"",r.a.createElement(v.a,{container:!0},r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(w.a,{variant:"contained",color:"primary",onClick:U},"Login")),r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(w.a,{variant:"contained",color:"secondary",onClick:function(){return a.push("/register")}},"Register")))))),r.a.createElement(E.a,{variant:"body1",align:"center"},"\xa9"," ".concat(N," | Barne Kleinen - All rights reserved"))))}var D=a(255),_=a(251),z=a(270),R=a(264),U=a(271);function Y(e,t){for(var a=[],n=e;n<=t;n++)a.push(n);return a}var G=Y(1,31),H=Y(1,12),V=Y(1970,2020),J=Object(g.a)({root:{padding:"2em"},wrapper:{padding:"2em","& .MuiFormControl-root":{padding:".75em 0 .5em 0"}},back:{position:"fixed",top:"0.5em",left:"0.5em"}}),Z=window.location.href.includes("local")?"http://localhost:5000/api/v1.0/users/create":"https://covid-19-wtat1-group-h.herokuapp.com/api/v1.0/users/create";function q(e){var t=e.setAppState;navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){p(e.coords.latitude),j(e.coords.longitude)}));var a=Object(d.f)(),o=J(),c=Object(n.useState)(0),l=Object(s.a)(c,2),m=l[0],p=l[1],f=Object(n.useState)(0),g=Object(s.a)(f,2),y=g[0],j=g[1],C=Object(n.useState)(""),S=Object(s.a)(C,2),T=S[0],A=S[1],M=Object(n.useState)(""),B=Object(s.a)(M,2),I=B[0],F=B[1],N=Object(n.useState)(""),L=Object(s.a)(N,2),P=L[0],W=L[1],Y=Object(n.useState)(""),q=Object(s.a)(Y,2),K=q[0],X=q[1],$=Object(n.useState)(""),Q=Object(s.a)($,2),ee=Q[0],te=Q[1],ae=Object(n.useState)(""),ne=Object(s.a)(ae,2),re=ne[0],oe=ne[1],ce=Object(n.useState)(1),le=Object(s.a)(ce,2),ie=le[0],ue=le[1],se=Object(n.useState)(1),me=Object(s.a)(se,2),de=me[0],pe=me[1],fe=Object(n.useState)(2020),ge=Object(s.a)(fe,2),he=ge[0],ve=ge[1],be=Object(n.useState)(""),Ee=Object(s.a)(be,2),Oe=Ee[0],ye=Ee[1],je=Object(n.useState)(""),we=Object(s.a)(je,2),Ce=we[0],ke=we[1],Se=Object(n.useState)(""),xe=Object(s.a)(Se,2),Te=xe[0],Ae=xe[1],Me=Object(n.useState)(null),Be=Object(s.a)(Me,2),Ie=Be[0],Fe=Be[1],Ne=Object(n.useState)(!1),Le=Object(s.a)(Ne,2),Pe=Le[0],We=Le[1],De=Object(n.useState)(!1),_e=Object(s.a)(De,2),ze=_e[0],Re=_e[1];Object(n.useEffect)((function(){}),[Pe,ze]);var Ue=function(){var e=Object(u.a)(i.a.mark((function e(){var n,r,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(ee===re&&ee.length>8)){e.next=7;break}return n=ie>=1&&ie<10?"0".concat(ie):ie,r=de>=1&&de<10?"0".concat(de):de,o="".concat(n,"/").concat(r,"/").concat(he),c={user:{username:T,password:ee,firstname:I,lastname:P,gender:Oe,dob:o,personalId:Ce,email:K,address:Te,phonenumber:Ie,latitude:m,longitude:y,role:"User"}},e.next=7,k.a.post(Z,c).then((function(e){200===e.status&&(x.a.set("authToken",e.data.token),Re(!0),We(!1),t(1),setTimeout((function(){return a.push("/")}),1500))})).catch((function(e){We(!0),Re(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{color:"primary",onClick:function(){return a.push("/")},className:o.back},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:"<"}})),r.a.createElement(h.a,{className:o.wrapper},r.a.createElement(b.a,null,r.a.createElement(O.a,{label:"Username *",variant:"outlined",onChange:function(e){return A(e.target.value)}}),r.a.createElement(v.a,{container:!0,spacing:2},r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(O.a,{label:"Firstname *",fullWidth:!0,variant:"outlined",onChange:function(e){return F(e.target.value)}})),r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(O.a,{label:"Lastname *",variant:"outlined",fullWidth:!0,onChange:function(e){return W(e.target.value)}}))),r.a.createElement(O.a,{label:"Email *",type:"email",variant:"outlined",onChange:function(e){return X(e.target.value)}}),r.a.createElement(O.a,{label:"Password *",type:"password",variant:"outlined",onChange:function(e){return te(e.target.value)}}),r.a.createElement(O.a,{label:"Confirm password *",type:"password",variant:"outlined",onChange:function(e){return oe(e.target.value)}}),r.a.createElement(_.a,null,r.a.createElement(z.a,null,"Gender *"),r.a.createElement(R.a,{value:Oe,variant:"outlined",onChange:function(e){return ye(e.target.value)}},r.a.createElement(U.a,{value:"Male"},"Male"),r.a.createElement(U.a,{value:"Female"},"Female"),r.a.createElement(U.a,{value:"Misc"},"Not listed"))),r.a.createElement(_.a,null,r.a.createElement(z.a,null,"Birthday *"),r.a.createElement(R.a,{value:ie,variant:"outlined",onChange:function(e){return ue(e.target.value)}},G.map((function(e){return r.a.createElement(U.a,{key:"day-".concat(e),value:e},e)})))),r.a.createElement(_.a,null,r.a.createElement(z.a,null,"Birthmonth *"),r.a.createElement(R.a,{value:de,variant:"outlined",onChange:function(e){return pe(e.target.value)}},H.map((function(e){return r.a.createElement(U.a,{key:"month-".concat(e),value:e},e)})))),r.a.createElement(_.a,null,r.a.createElement(z.a,null,"Birthyear *"),r.a.createElement(R.a,{value:he,variant:"outlined",onChange:function(e){return ve(e.target.value)}},V.map((function(e){return r.a.createElement(U.a,{key:"year-".concat(e),value:e},e)})))),r.a.createElement(O.a,{label:"Personal ID *",variant:"outlined",onChange:function(e){return ke(e.target.value)}}),r.a.createElement(O.a,{label:"Address",variant:"outlined",onChange:function(e){return Ae(e.target.value)}}),r.a.createElement(O.a,{label:"Phonenumber",variant:"outlined",onChange:function(e){return Fe(e.target.value)}}),r.a.createElement(w.a,{variant:"contained",color:"secondary",onClick:Ue},"Register")),Pe?r.a.createElement(E.a,{variant:"body2"},"Something went wrong"):"",ze?r.a.createElement(E.a,{variant:"body1"},"Successful registed. You will be redirected . . ."):""))}a(174);function K(){return r.a.createElement("div",null)}var X=a(256),$=a(257),Q=a(211),ee=a(131),te=a(124),ae=a.n(te),ne=a(125),re=a.n(ne),oe=Object(g.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function ce(e){var t=e.handleLogout,a=oe(),n=Object(d.f)(),o=r.a.useState(null),c=Object(s.a)(o,2),l=c[0],i=c[1],u=Boolean(l);return r.a.createElement("div",{className:a.root},r.a.createElement(X.a,{position:"static"},r.a.createElement($.a,null,r.a.createElement(Q.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(ae.a,null)),r.a.createElement(E.a,{variant:"h6",className:a.title},"COVID-19"),r.a.createElement(Q.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit"},r.a.createElement(re.a,null)),r.a.createElement(ee.a,{anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:function(){i(null)}},r.a.createElement(U.a,{onClick:function(){n.push("/profile")}},"Profile"),r.a.createElement(U.a,{onClick:t},"Logout")))))}var le=a(266),ie=a(258),ue=a(259),se=Object(g.a)({root:{display:"block"},div:{margin:".5em auto"}});function me(e){var t=e.report,a=(e.index,se());return r.a.createElement(le.a,{className:a.div,key:t._id},r.a.createElement(ie.a,{expandIcon:"x"},r.a.createElement(E.a,null,"Report of User: ","".concat(t.submitter))),r.a.createElement(ue.a,{className:a.root},r.a.createElement(E.a,{variant:"caption"},"Submitted on: ",r.a.createElement(E.a,{variant:"body1"},t.date)),r.a.createElement(E.a,{variant:"caption"},"Details: ",r.a.createElement(E.a,{variant:"body1"},t.details)),r.a.createElement(E.a,{variant:"caption"},"Precondition: ",r.a.createElement(E.a,{variant:"body1"},t.precondition)),r.a.createElement(E.a,{variant:"caption"},"Symptoms: ",r.a.createElement(E.a,{variant:"body1"},t.symptoms)),r.a.createElement(E.a,{variant:"caption"},"From infected area:",r.a.createElement(E.a,{variant:"body1"},t.infected_area?"yes":"no")),r.a.createElement(E.a,{variant:"caption"},"Infected from a person: ",r.a.createElement(E.a,{variant:"body1"},t.person_from_infected?"yes":"no")),r.a.createElement(E.a,{variant:"caption"},"Infected: ",r.a.createElement(E.a,{variant:"body1"},t.infected_person?"yes":"no"))))}var de=a(133),pe=a(126),fe=a(127),ge=a(134),he=a(132),ve=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}],be=function(e){Object(ge.a)(a,e);var t=Object(he.a)(a);function a(e){var n;return Object(pe.a)(this,a),(n=t.call(this,e)).googleMapRef=r.a.createRef(),n.createGoogleMap=function(){var e=n.props,t=e.lat,a=e.lng;return new window.google.maps.Map(n.googleMapRef.current,{zoom:10,center:{lat:t||52.503325,lng:a||13.426746},styles:ve})},n.drawCircles=function(){var e=n.state,t=e.infectedAreas,a=e.infectedCountries;t.length>0&&t.map((function(e){n.drawInfectedAreaCircle(e)})),a.length>0&&a.map((function(e){var t=e.active,a=e.countryInfo;n.drawInfectedArea({lat:a.lat,lng:a.long},t)}))},n.fetchAreasByBounds=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.location.href.includes("local")?"http://localhost:5000/api/v1.0/areas?minLat=".concat(t.min,"&maxLat=").concat(t.max,"&minLng=").concat(a.min,"&maxLng=").concat(a.max):"https://covid-19-wtat1-group-h.herokuapp.com/api/v1.0/areas?minLat=".concat(t.min,"&maxLat=").concat(t.max,"&minLng=").concat(a.min,"&maxLng=").concat(a.max),e.next=3,k.a.get(r).then((function(e){e.data.length>0&&(console.log(e.data),e.data.forEach((function(e){var t=Object(de.a)(n.state.infectedAreas);t.some((function(t){return t._id===e._id}))||t.push(e),n.setState({infectedAreas:t})})))})).catch((function(e){console.error(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.deleteCirclesOutOfBounds=function(e,t){var a=[];n.state.infectedAreas.forEach((function(n,r){n.latitude>=e.min&&n.latitude<=e.max&&n.longitude>=t.min&&n.longitude<=t.max&&a.push(n)})),n.setState({infectedAreas:a})},n.onMapChange=function(){var e=n.state.googleMap;e.addListener("dragend",(function(){var t={min:e.getBounds().Za.i,max:e.getBounds().Za.j},a={min:e.getBounds().Ua.i,max:e.getBounds().Ua.j};n.deleteCirclesOutOfBounds(t,a),n.fetchAreasByBounds(t,a)})),e.addListener("zoom_changed",(function(){var t={min:e.getBounds().Ya.i,max:e.getBounds().Ya.j},a={min:e.getBounds().Ua.i,max:e.getBounds().Ua.j};n.deleteCirclesOutOfBounds(t,a),n.fetchAreasByBounds(t,a)}))},n.createMarker=function(e){return new window.google.maps.Marker({position:e,map:n.state.googleMap})},n.createCircle=function(e){return new window.google.maps.Circle({strokeColor:"#FF0000",strokeOpacity:.4,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,map:n.state.googleMap,center:e,radius:15e6})},n.drawInfectedArea=function(e,t,a){var r=1100*Math.sqrt(t);return new window.google.maps.Circle({strokeColor:"#FF0000",strokeOpacity:.05,strokeWeight:1,fillColor:"#FF0000",fillOpacity:.35,map:n.state.googleMap,center:e,radius:r})},n.drawInfectedAreaCircle=function(e){return new window.google.maps.Circle({strokeColor:"#FF0000",strokeOpacity:.4,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,map:n.state.googleMap,center:{lat:e.latitude,lng:e.longitude},radius:15e3})},n.fetchData=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://corona.lmao.ninja/v2/countries/",["Vietnam","Germany","USA","FR","Thailand"].forEach((function(e){t+=e+"%2C"})),e.next=5,k.a.get(t).then((function(e){n.setState({infectedCountries:e.data},(function(){return console.log(n.state.infectedCountries)}))})).catch((function(e){console.error(e)}));case 5:n.drawCircles();case 6:case"end":return e.stop()}}),e)}))),n.state={googleMap:null,infectedAreas:[],infectedCountries:[]},n}return Object(fe.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDlcik1-nD4XiC1ryjEF6JjZO39hsrHP84",window.document.body.appendChild(t),t.addEventListener("load",(function(){e.state.googleMap=e.createGoogleMap(),e.onMapChange(),e.fetchData()}))}},{key:"componentDidUpdate",value:function(){this.drawCircles()}},{key:"render",value:function(){return r.a.createElement("div",{id:"map",ref:this.googleMapRef,style:{width:"400px",height:"300px"}})}}]),a}(n.Component),Ee=a(128),Oe=a.n(Ee),ye=a(137),je=a(260),we=Object(g.a)((function(e){return{overlay:{background:"rgba(50,50,50, 0.65)",width:"100vw",height:"100vh",position:"fixed",top:0,left:0},root:{position:"relative",top:"1.5em"},paper:{},select:{width:"100%"},wrapper:{width:"85%",margin:"0 auto",padding:"1em 0","& .MuiFormControl-root":{padding:"1em 0 .5em 0"}},headline:{textAlign:"center",padding:"10px 0"},button:{margin:".75em 1em"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),Ce=window.location.href.includes("local")?"http://localhost:5000/api/v1.0/reports/report":"https://covid-19-wtat1-group-h.herokuapp.com/api/v1.0/reports/report";function ke(e){var t=e.handleClose,a=(e.openReportForm,we()),o=Object(n.useState)(""),c=Object(s.a)(o,2),l=c[0],m=c[1],d=Object(n.useState)(""),p=Object(s.a)(d,2),f=p[0],g=p[1],b=Object(n.useState)(""),y=Object(s.a)(b,2),j=y[0],C=y[1],S=Object(n.useState)(!1),T=Object(s.a)(S,2),A=T[0],M=T[1],B=Object(n.useState)(!1),I=Object(s.a)(B,2),F=I[0],N=I[1],L=Object(n.useState)(0),P=Object(s.a)(L,2),W=P[0],D=P[1],Y=Object(n.useState)(0),G=Object(s.a)(Y,2),H=G[0],V=G[1],J=Object(n.useState)(!1),Z=Object(s.a)(J,2),q=Z[0],K=Z[1];navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){D(e.coords.latitude),V(e.coords.longitude)}));var X=function(){var e=Object(u.a)(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"Bearer ".concat(x.a.get("authToken"))}},n={report:{latitude:W,longitude:H,symptoms:l,precondition:f,infected_area:F,person_from_infected:A,date:new Date,details:j}},e.next=4,K(!0);case 4:return e.next=6,k.a.post(Ce,n,a).then((function(e){console.log(e),setTimeout((function(){return t()}),1500)})).catch((function(e){console.log(e),K(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.overlay},r.a.createElement(h.a,{className:a.root},r.a.createElement(ye.a,{elevation:3},r.a.createElement(E.a,{className:a.headline,variant:"h4"},"Submit report"),r.a.createElement(je.a,null),r.a.createElement("div",{className:a.wrapper},r.a.createElement(O.a,{label:"Symptoms",variant:"outlined",fullWidth:!0,onChange:function(e){return m(e.target.value)}}),r.a.createElement(O.a,{label:"Precondition",variant:"outlined",fullWidth:!0,onChange:function(e){return g(e.target.value)}}),r.a.createElement(O.a,{label:"Details",multiline:!0,rows:4,rowsMax:10,variant:"outlined",fullWidth:!0,onChange:function(e){return C(e.target.value)}}),r.a.createElement(v.a,{container:!0},r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(_.a,{fullWidth:!0},r.a.createElement(z.a,null,"Contacted with infected person"),r.a.createElement(R.a,{value:A,variant:"outlined",autoWidth:!0,onChange:function(e){return M(e.target.value)}},r.a.createElement(U.a,{value:!0},"Yes"),r.a.createElement(U.a,{value:!1},"No")))),r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(_.a,{fullWidth:!0},r.a.createElement(z.a,null,"Came from infected area"),r.a.createElement(R.a,{value:F,variant:"outlined",autoWidth:!0,onChange:function(e){return N(e.target.value)}},r.a.createElement(U.a,{value:!0},"Yes"),r.a.createElement(U.a,{value:!1},"No"))))),r.a.createElement(E.a,{variant:"body1"},"The app needs to localize your current location for submitting the report. Please accept the permission, so the app can access your current geolocation. This is necessary, so that you aware other people, where the virus might be. The provided data will inform the user, where COVID might be located by displaying it on the map. You will keep friends, family and yourself safe."),r.a.createElement(w.a,{className:a.button,variant:"contained",color:"secondary",disabled:q,onClick:X},"Submit"),r.a.createElement(w.a,{className:a.button,variant:"contained",color:"primary",onClick:t},"Cancel"))))))}var Se=Object(g.a)({addIcon:{position:"fixed",bottom:"1em",right:"1em"},accordion:{margin:".5em auto"}}),xe=window.location.href.includes("local")?"http://localhost:5000/api/v1.0/reports/":"https://covid-19-wtat1-group-h.herokuapp.com/api/v1.0/reports/";function Te(e){var t=e.appState,a=e.handleLogout,o=(e.isAdmin,e.setIsAdmin,e.auth,Se()),c=(Object(d.f)(),Object(n.useState)(null)),l=Object(s.a)(c,2),m=l[0],p=l[1],f=Object(n.useState)(0),g=Object(s.a)(f,2),v=g[0],b=(g[1],Object(n.useState)(52.425)),E=Object(s.a)(b,2),O=E[0],y=E[1],j=Object(n.useState)(78.454787),w=Object(s.a)(j,2),C=w[0],S=w[1],x=Object(n.useState)(null),T=Object(s.a)(x,2),A=T[0],M=T[1];Object(n.useEffect)((function(){I(),B()}),[]),Object(n.useEffect)((function(){}),[v]);var B=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){y(e.coords.latitude),S(e.coords.longitude)}))},I=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(xe).then((function(e){200===e.status&&(console.log(e),p(e.data.reports))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{handleLogout:a}),1===t?r.a.createElement("div",null,"Loading"):r.a.createElement("main",null,r.a.createElement(be,{lat:O,lng:C}),r.a.createElement(h.a,null,m.map((function(e,t){return r.a.createElement(me,{key:t,report:e})})),r.a.createElement(D.a,{className:o.addIcon,color:"secondary","aria-label":"add",onClick:function(e){M(e.currentTarget)}},r.a.createElement(Oe.a,null)),null!=A?r.a.createElement(ke,{openReportForm:A,handleClose:function(){M(null)}}):"")),r.a.createElement(K,null))}function Ae(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),l=Object(s.a)(c,2),m=(l[0],l[1]),d=Object(n.useState)(""),p=Object(s.a)(d,2),f=(p[0],p[1]),g=Object(n.useState)(""),y=Object(s.a)(g,2),j=(y[0],y[1]),w=Object(n.useState)(""),C=Object(s.a)(w,2),S=(C[0],C[1]),T=Object(n.useState)(),A=Object(s.a)(T,2),M=(A[0],A[1]),B=Object(n.useState)(),I=Object(s.a)(B,2),F=I[0],N=I[1],L=Object(n.useState)(),P=Object(s.a)(L,2),W=P[0],D=P[1],Y=Object(n.useState)(),J=Object(s.a)(Y,2),Z=J[0],q=J[1],X=Object(n.useState)(),$=Object(s.a)(X,2),Q=$[0],ee=$[1],te=Object(n.useState)(),ae=Object(s.a)(te,2),ne=(ae[0],ae[1]),re=Object(n.useState)(),oe=Object(s.a)(re,2),le=(oe[0],oe[1]),ie=Object(n.useState)(),ue=Object(s.a)(ie,2),se=(ue[0],ue[1]),me=Object(n.useState)(!1),de=Object(s.a)(me,2),pe=de[0],fe=(de[1],Object(n.useState)(!1)),ge=Object(s.a)(fe,2),he=ge[0];ge[1];Object(n.useEffect)((function(){ve()}),[]),Object(n.useEffect)((function(){}),[pe,he,a]);var ve=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("http://localhost:5000/api/v1.0/users/profile",{headers:{Authorization:"Bearer ".concat(x.a.get("authToken"))}}).then((function(e){console.log(e);var t=e.data,a=t.username,n=t.firstname,r=t.lastname,c=t.email,l=t.dob,i=t.gender,u=t.personalId,s=t.address,d=t.phonenumber;o(a),m(n),f(r),j(c),N(parseInt(l.substring(0,2))),D(parseInt(l.substring(3,5))),q(parseInt(l.substring(6,l.length+1))),ee(i),ne(u),le(s),se(d)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,null),r.a.createElement("main",null,r.a.createElement(h.a,null,r.a.createElement(b.a,null,r.a.createElement(O.a,{label:"Username *",variant:"outlined",onChange:function(e){return o(e.target.value)}}),r.a.createElement(v.a,{container:!0,spacing:2},r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(O.a,{label:"Firstname *",fullWidth:!0,variant:"outlined",onChange:function(e){return m(e.target.value)}})),r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(O.a,{label:"Lastname *",variant:"outlined",fullWidth:!0,onChange:function(e){return f(e.target.value)}}))),r.a.createElement(O.a,{label:"Email *",type:"email",variant:"outlined",onChange:function(e){return j(e.target.value)}}),r.a.createElement(O.a,{label:"Password *",type:"password",variant:"outlined",onChange:function(e){return S(e.target.value)}}),r.a.createElement(O.a,{label:"Confirm password *",type:"password",variant:"outlined",onChange:function(e){return M(e.target.value)}}),r.a.createElement(_.a,null,r.a.createElement(z.a,null,"Gender *"),r.a.createElement(R.a,{value:Q,variant:"outlined",onChange:function(e){return ee(e.target.value)}},r.a.createElement(U.a,{value:"Male"},"Male"),r.a.createElement(U.a,{value:"Female"},"Female"),r.a.createElement(U.a,{value:"Misc"},"Not listed"))),r.a.createElement(_.a,null,r.a.createElement(z.a,null,"Birthday *"),r.a.createElement(R.a,{value:F,variant:"outlined",onChange:function(e){return N(e.target.value)}},G.map((function(e){return r.a.createElement(U.a,{key:"day-".concat(e),value:e},e)})))),r.a.createElement(_.a,null,r.a.createElement(z.a,null,"Birthmonth *"),r.a.createElement(R.a,{value:W,variant:"outlined",onChange:function(e){return D(e.target.value)}},H.map((function(e){return r.a.createElement(U.a,{key:"month-".concat(e),value:e},e)})))),r.a.createElement(_.a,null,r.a.createElement(z.a,null,"Birthyear *"),r.a.createElement(R.a,{value:Z,variant:"outlined",onChange:function(e){return q(e.target.value)}},V.map((function(e){return r.a.createElement(U.a,{key:"year-".concat(e),value:e},e)})))),r.a.createElement(O.a,{label:"Personal ID *",variant:"outlined",onChange:function(e){return ne(e.target.value)}}),r.a.createElement(O.a,{label:"Address",variant:"outlined",onChange:function(e){return le(e.target.value)}}),r.a.createElement(O.a,{label:"Phonenumber",variant:"outlined",onChange:function(e){return se(e.target.value)}})),pe?r.a.createElement(E.a,{variant:"body2"},"Something went wrong"):"",he?r.a.createElement(E.a,{variant:"body1"},"Successful registed. You will be redirected . . ."):"")),r.a.createElement(K,null))}var Me=a(129),Be=a.n(Me);a(261);var Ie=a(267),Fe=a(263),Ne="dark"===x.a.get("themeType")?"dark":"light",Le=Object(p.a)({palette:{type:Ne},spacing:2}),Pe=window.location.href.includes("localhost")?"http://localhost:5000/":"https://covid-19-wtat1-group-h.herokuapp.com/",We=window.location.href.includes("localhost")?"http://localhost:5000/api/v1.0/users/profile":"https://covid-19-wtat1-group-h.herokuapp.com/api/v1.0/users/profile",De=window.location.href.includes("localhost")?"http://localhost:5000/api/v1.0/users/refresh":"https://covid-19-wtat1-group-h.herokuapp.com/api/v1.0/users/refresh";var _e=function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),l=Object(s.a)(c,2),p=l[0],g=l[1],h=Object(n.useState)(!1),v=Object(s.a)(h,2),b=v[0],E=v[1],O=Object(n.useState)(null),y=Object(s.a)(O,2),j=y[0],w=y[1],C=Object(n.useState)(null),S=Object(s.a)(C,2),T=S[0],A=S[1],M=r.a.useState(!1),B=Object(s.a)(M,2),I=B[0],F=B[1],N=function(e,t){"clickaway"!==t&&F(!1)};Object(n.useEffect)((function(){P(),Be()(Pe).on("covid daily report",(function(e){console.log(e),A(e),F(!0)}))}),[]),Object(n.useEffect)((function(){!0===p&&L()}),[p]);var L=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:"Bearer ".concat(x.a.get("authToken"))}},e.next=3,k.a.get(We,t).then((function(e){console.log(e),"Employee_Public_Health"===e.data.role&&E(!0),w(e.data)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.a.get("authToken")&&(o(1),setTimeout(Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post(De,{},{headers:{Authorization:"Bearer ".concat(x.a.get("authToken"))}}).then((function(e){200===e.status&&(o(2),g(!0),x.a.set("authToken",e.data.token))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),1500));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.remove("authToken");case 2:setTimeout((function(){o(0)}),1e3);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,T?r.a.createElement(Ie.a,{open:I,autoHideDuration:6e3,onClose:N},r.a.createElement(Fe.a,{severity:"warning",onClose:N,elevation:6,variant:"filled"},"Total new cases: ",T.NewConfirmed," ",r.a.createElement("br",null),"Total cases: ",T.TotalConfirmed)):null,r.a.createElement(f.a,{theme:Le},r.a.createElement(m.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/"},0===a?r.a.createElement(W,{setAppState:o,setAuth:g}):r.a.createElement(Te,{appState:a,auth:p,setIsAdmin:E,isAdmin:b,handleLogout:D})),r.a.createElement(d.a,{path:"/profile"},r.a.createElement(Ae,{user:j})),r.a.createElement(d.a,{path:"/register"},r.a.createElement(q,{setAppState:o,setAuth:g}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_e,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[144,1,2]]]);
//# sourceMappingURL=main.bd408113.chunk.js.map